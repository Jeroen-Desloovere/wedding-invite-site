<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Invitation</title>
  <meta name="description" content="Event invite with countdown + RSVP + directions" />
  <style>
    :root{
      --bg:#0b0d12;
      --card:rgba(255,255,255,.08);
      --card2:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.93);
      --muted:rgba(255,255,255,.72);
      --line:rgba(255,255,255,.18);
      --ei-radius:18px;
      --shadow: 0 22px 70px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:#000;
      min-height:100vh;
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}

    /* ===== Background image (bg.png next to this file) ===== */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.35) 45%, rgba(0,0,0,.70)),
        url("bg.png") center/cover no-repeat;
      filter:saturate(1.05) contrast(1.05);
      z-index:-2;
    }
    body::after{
      content:"";
      position:fixed; inset:0;
      backdrop-filter: blur(6px);
      background: radial-gradient(800px 500px at 20% 10%, rgba(255,255,255,.10), transparent 60%);
      z-index:-1;
      pointer-events:none;
    }

    .wrap{max-width:1040px;margin:0 auto;padding:18px}
    .topbar{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px; padding:10px 0 18px;
    }
    .brand{
      display:flex;align-items:center;gap:10px;color:var(--muted);font-size:13px;
    }
    .brand-dot{width:10px;height:10px;border-radius:99px;background:rgba(255,255,255,.7)}
    .nav{
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .pill{
      padding:8px 12px;border-radius:999px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.22);
      color:var(--muted); font-size:13px;
    }
    .pill:hover{background:rgba(255,255,255,.06); color:var(--text)}

    .hero{
      position:relative;
      overflow:hidden;
      padding: clamp(28px,4vw,56px) 18px;
      border-radius: var(--ei-radius);
      background: rgba(0,0,0,.22);
      border:1px solid var(--line);
      box-shadow: var(--shadow);
    }
    .card{
      max-width:940px;
      margin:0 auto;
      padding: clamp(18px,3vw,34px);
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.03));
      border:1px solid var(--line);
      border-radius: var(--ei-radius);
      backdrop-filter: blur(10px);
    }
    .kicker{letter-spacing:.12em;text-transform:uppercase;font-size:12px;color:var(--muted)}
    h1{margin:10px 0 18px;font-size:clamp(34px,4.8vw,58px);line-height:1.02}
    .sub{max-width:60ch;color:var(--muted);font-size:15px}

    .countdown{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap:10px;
      margin:18px 0 14px;
    }
    .timebox{
      background: linear-gradient(180deg, var(--card2), rgba(255,255,255,0.04));
      border:1px solid var(--line);
      border-radius:14px;
      padding:14px 12px;
      text-align:center;
    }
    .num{font-size:clamp(20px,3.2vw,34px);font-weight:700}
    .lbl{font-size:12px;color:var(--muted);margin-top:4px}

    .meta{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0 18px}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border-radius:999px;
      background:rgba(255,255,255,.07);
      border:1px solid var(--line);
      color:var(--muted);font-size:13px;
    }

    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      padding:12px 16px;border-radius:999px;
      background:rgba(255,255,255,.92);
      color:#0b0d12;border:1px solid rgba(255,255,255,.88);
      font-weight:650;cursor:pointer;
      transition:transform .15s ease, opacity .15s ease;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn.ghost{
      background:transparent;color:var(--text);
      border:1px solid var(--line);
    }
    .btn[aria-busy="true"]{opacity:.9;pointer-events:none}
    .spinner{
      width:14px;height:14px;border-radius:50%;
      border:2px solid rgba(0,0,0,.2);
      border-top-color: rgba(0,0,0,.7);
      display:none;margin-left:10px;
      animation:spin .9s linear infinite;
    }
    .btn[aria-busy="true"] .spinner{display:inline-block}
    @keyframes spin{to{transform:rotate(360deg)}}

    section{padding:22px 0}
    h2{margin:0 0 10px;font-size:22px}
    .muted{color:var(--muted)}
    .richtext p{margin:10px 0}
    .richtext ul{margin:10px 0 0;padding-left:20px}
    .richtext li{margin:6px 0}

    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
    label{display:grid;gap:6px;margin-bottom:12px}
    label span{font-size:13px;color:var(--muted)}
    input,select,textarea{
      width:100%;padding:12px 12px;border-radius:12px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.25);
      color:var(--text);
      outline:none;
    }
    textarea{resize:vertical;min-height:110px}
    .row{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-top:10px}
    .status{min-height:20px;color:var(--muted)}
    footer{padding:12px 0 34px;text-align:center}

    /* scroll reveal */
    .reveal{opacity:0;transform:translateY(14px);transition:opacity 700ms ease, transform 700ms ease}
    .reveal.visible{opacity:1;transform:translateY(0)}

    /* floating parallax ornaments */
    .float{
      position:absolute;border-radius:999px;
      opacity:.85;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.42), rgba(255,255,255,.06) 55%, rgba(255,255,255,0) 70%);
      mix-blend-mode:screen;
      pointer-events:none;
      will-change:transform;
    }
    .f1{width:220px;height:220px;left:-60px;top:40px;opacity:.50}
    .f2{width:180px;height:180px;right:-60px;top:90px;opacity:.45}
    .f3{width:260px;height:260px;right:10%;bottom:-110px;opacity:.40}

    @media (max-width:740px){
      .countdown{grid-template-columns:repeat(2,minmax(0,1fr))}
      .grid{grid-template-columns:1fr}
      .topbar{align-items:flex-start;flex-direction:column}
    }

/* ===== Luxury envelope intro (dark red) ===== */

/* Optional: luxury fonts */
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Allura&display=swap');

:root{
  --lux-red-1:#2b0710;   /* deep */
  --lux-red-2:#4a0e1a;   /* main */
  --lux-red-3:#7a2131;   /* highlight */
  --lux-paper:#f3efe8;   /* warm paper */
}

.intro{
  position:fixed; inset:0;
  display:grid; place-items:center;
  background:
    radial-gradient(1200px 800px at 30% 20%, rgba(255,255,255,.10), transparent 60%),
    radial-gradient(900px 600px at 70% 30%, rgba(255,255,255,.08), transparent 62%),
    linear-gradient(180deg, #07080c, #05060a);
  z-index:9999;
  transition: opacity .7s ease, visibility .7s ease;
}
.intro.is-done{opacity:0; visibility:hidden; pointer-events:none;}

.intro-stage{
  display:grid;
  justify-items:center;
  gap:18px;
  perspective: 1400px;
  filter: drop-shadow(0 32px 90px rgba(0,0,0,.75));
}

.intro-note{
  color:rgba(255,255,255,.65);
  font-size:13px;
  text-align:center;
}

/* Envelope container */
.lux-env{
  width:min(520px, 92vw);
  aspect-ratio: 9/16;           /* tall, like the demo */
  border-radius:26px;
  position:relative;
  transform-style:preserve-3d;
  transform: rotateX(7deg);
}

/* Emboss pattern using inline SVG (no external assets) */
.lux-env::before{
  content:"";
  position:absolute; inset:0;
  border-radius:26px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.04)),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='460' viewBox='0 0 260 460'%3E%3Cg fill='none' stroke='%23ffffff' stroke-opacity='.10' stroke-width='1.2'%3E%3Cpath d='M40 80c20-30 40-30 60 0'/%3E%3Cpath d='M150 120c20-30 40-30 60 0'/%3E%3Cpath d='M70 170c30-20 50-10 60 10'/%3E%3Cpath d='M150 250c30-20 50-10 60 10'/%3E%3Cpath d='M55 310c20-25 40-25 60 0'/%3E%3Cpath d='M140 360c20-25 40-25 60 0'/%3E%3Cpath d='M25 220c12-18 24-18 36 0'/%3E%3Cpath d='M210 200c12-18 24-18 36 0'/%3E%3C/g%3E%3C/svg%3E");
  background-size:cover, cover, 280px 500px;
  background-repeat:no-repeat, no-repeat, repeat;
  mix-blend-mode: overlay;
  pointer-events:none;
  transform: translateZ(1px);
}

/* Main envelope back */
.lux-env__back{
  position:absolute; inset:0;
  border-radius:26px;
  background:
    radial-gradient(260px 180px at 30% 18%, rgba(255,255,255,.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04)),
    linear-gradient(180deg, var(--lux-red-2), var(--lux-red-1));
  border:1px solid rgba(255,255,255,.18);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.15);
}

/* Paper */
.lux-env__paper{
  position:absolute;
  left:18px; right:18px;
  bottom:26px;
  height:72%;
  border-radius:18px;
  background:
    radial-gradient(240px 160px at 30% 20%, rgba(255,255,255,.95), rgba(255,255,255,.75)),
    linear-gradient(180deg, var(--lux-paper), rgba(235,228,216,.92));
  box-shadow:
    0 26px 60px rgba(0,0,0,.30),
    inset 0 1px 0 rgba(255,255,255,.55);
  transform: translateY(40%) translateZ(18px);
  overflow:hidden;
  color:#13080a;
  padding:18px;
}

/* Paper subtle grain */
.lux-env__paper::before{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(420px 260px at 40% 20%, rgba(0,0,0,.08), transparent 60%),
    repeating-linear-gradient(0deg, rgba(0,0,0,.03) 0 1px, transparent 1px 4px);
  opacity:.28;
  mix-blend-mode:multiply;
  pointer-events:none;
}

.lux-paper__kicker{
  position:relative;
  letter-spacing:.18em;
  text-transform:uppercase;
  font-size:11px;
  opacity:.65;
  font-family: "Cormorant Garamond", serif;
}
.lux-paper__title{
  position:relative;
  margin-top:14px;
  font-size:44px;
  line-height:1;
  font-family: "Allura", cursive;
}
.lux-paper__amp{
  position:relative;
  margin:4px 0;
  font-size:18px;
  opacity:.65;
  font-family: "Cormorant Garamond", serif;
}
.lux-paper__sub{
  position:absolute;
  left:18px; right:18px; bottom:16px;
  font-size:13px;
  opacity:.6;
  font-family: "Cormorant Garamond", serif;
}

/* Pocket */
.lux-env__pocket{
  position:absolute;
  left:0; right:0; bottom:0;
  height:46%;
  border-radius: 0 0 26px 26px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03)),
    linear-gradient(180deg, var(--lux-red-3), var(--lux-red-1));
  border-top:1px solid rgba(255,255,255,.14);
  clip-path: polygon(0 0, 100% 0, 50% 85%);
  transform: translateZ(24px);
  box-shadow: 0 -6px 26px rgba(0,0,0,.25);
}

/* Flap */
.lux-env__flap{
  position:absolute;
  left:0; right:0; top:0;
  height:45%;
  border-radius:26px 26px 0 0;
  background:
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.05)),
    linear-gradient(180deg, var(--lux-red-2), var(--lux-red-1));
  border-bottom:1px solid rgba(255,255,255,.18);
  clip-path: polygon(0 0, 100% 0, 50% 100%);
  transform-origin: top center;
  transform: rotateX(0deg) translateZ(30px);
  backface-visibility:hidden;
  box-shadow: 0 18px 44px rgba(0,0,0,.34);
}

/* Wax seal */
.lux-seal{
  position:absolute;
  left:50%; top:44%;
  transform: translate(-50%,-50%) translateZ(40px);
  width:66px; height:66px;
  border-radius:999px;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), rgba(255,255,255,.08)),
    radial-gradient(circle at 60% 70%, rgba(255,210,120,.45), transparent 58%),
    linear-gradient(180deg, rgba(210,40,70,.50), rgba(60,10,18,.55));
  border:1px solid rgba(255,255,255,.18);
  box-shadow:
    0 20px 44px rgba(0,0,0,.38),
    inset 0 1px 0 rgba(255,255,255,.25);
  display:grid; place-items:center;
}
.lux-seal__mark{
  font-family: "Cormorant Garamond", serif;
  font-weight:600;
  letter-spacing:.08em;
  color:rgba(255,255,255,.82);
}

/* Sparkles */
.lux-sparkles{
  position:absolute; inset:0;
  opacity:0;
  background:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.40), transparent 55%),
    radial-gradient(2px 2px at 75% 26%, rgba(255,255,255,.32), transparent 55%),
    radial-gradient(2px 2px at 60% 70%, rgba(255,255,255,.26), transparent 55%),
    radial-gradient(2px 2px at 32% 78%, rgba(255,255,255,.30), transparent 55%),
    radial-gradient(2px 2px at 84% 58%, rgba(255,255,255,.22), transparent 55%);
  pointer-events:none;
}

/* Timeline */
.intro.play .lux-seal{ animation: sealBreak 720ms ease 240ms forwards; }
@keyframes sealBreak{
  0%{ transform: translate(-50%,-50%) translateZ(40px) rotate(0deg); opacity:1; }
  45%{ transform: translate(-50%,-50%) translateZ(40px) rotate(8deg) scale(1.06); opacity:1; }
  100%{ transform: translate(-50%,-50%) translateZ(40px) rotate(-10deg) scale(.92); opacity:0; }
}

.intro.play .lux-env__flap{ animation: flapOpenLux 980ms cubic-bezier(.2,.86,.12,1) 420ms forwards; }
@keyframes flapOpenLux{
  0%{ transform: rotateX(0deg) translateZ(30px); }
  100%{ transform: rotateX(168deg) translateZ(30px); }
}

.intro.play .lux-env__paper{ animation: paperOutLux 1250ms cubic-bezier(.16,.92,.2,1) 900ms forwards; }
@keyframes paperOutLux{
  0%{ transform: translateY(40%) translateZ(18px); }
  62%{ transform: translateY(-20%) translateZ(18px); }
  78%{ transform: translateY(-14%) translateZ(18px); }
  100%{ transform: translateY(-18%) translateZ(18px); }
}

.intro.play .lux-sparkles{ animation: sparkOn 1500ms ease 520ms forwards; }
@keyframes sparkOn{
  0%{ opacity:0; }
  35%{ opacity:.9; }
  100%{ opacity:0; }
}

.intro.play .intro-stage{ animation: cam 2100ms cubic-bezier(.2,.8,.2,1) 120ms forwards; }
@keyframes cam{
  0%{ transform: translateY(6px) scale(1); }
  100%{ transform: translateY(0) scale(1.02); }
}

  </style>
</head>

<body>
<div class="intro" id="intro" aria-hidden="true">
  <div class="intro-stage">
    <div class="lux-env" aria-hidden="true">
      <div class="lux-env__back"></div>

      <div class="lux-env__paper">
        <div class="lux-paper__kicker">You‚Äôre invited</div>
        <div class="lux-paper__title">Pedro</div>
        <div class="lux-paper__amp">&amp;</div>
        <div class="lux-paper__title">Julia</div>
        <div class="lux-paper__sub">Tap to open</div>
      </div>

      <div class="lux-env__pocket"></div>
      <div class="lux-env__flap"></div>

      <div class="lux-seal">
        <span class="lux-seal__mark">PJ</span>
      </div>

      <div class="lux-sparkles" aria-hidden="true"></div>
    </div>

    <div class="intro-note">Opening your invitation‚Ä¶</div>
  </div>
</div>



  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <span class="brand-dot"></span>
        <span id="brandText">Invitation</span>
      </div>
      <div class="nav">
        <a class="pill" href="#details">Details</a>
        <a class="pill" href="#location">Location</a>
        <a class="pill" href="#rsvp">RSVP</a>
      </div>
    </div>

    <div class="hero" id="top">
      <div class="float f1" aria-hidden="true"></div>
      <div class="float f2" aria-hidden="true"></div>
      <div class="float f3" aria-hidden="true"></div>

      <div class="card reveal">
        <div class="kicker" id="subtitle">Save the date</div>
        <h1 id="title">You‚Äôre invited</h1>
        <div class="sub" id="subtext">Join us for a celebration. We can‚Äôt wait to see you.</div>

        <div class="countdown" role="timer" aria-live="polite">
          <div class="timebox"><div class="num" data-days>‚Äî</div><div class="lbl">Days</div></div>
          <div class="timebox"><div class="num" data-hours>‚Äî</div><div class="lbl">Hours</div></div>
          <div class="timebox"><div class="num" data-mins>‚Äî</div><div class="lbl">Minutes</div></div>
          <div class="timebox"><div class="num" data-secs>‚Äî</div><div class="lbl">Seconds</div></div>
        </div>

        <div class="meta">
          <span class="chip">üóìÔ∏è <span id="eventLabel">2026-09-05 15:00</span></span>
          <span class="chip">üåç <span id="tzLabel">Europe/Berlin</span></span>
        </div>

        <div class="actions reveal">
          <a class="btn" href="#rsvp">RSVP</a>
          <a class="btn ghost" href="#location">How to get there</a>
        </div>
      </div>
    </div>

    <section id="details" class="reveal">
      <div class="card">
        <h2>Details</h2>
        <div class="richtext">
          <ul>
            <li><strong>Where:</strong> Your venue name</li>
            <li><strong>When:</strong> Schedule / ceremony time</li>
            <li><strong>Dress code:</strong> Optional</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="location" class="reveal">
      <div class="card">
        <h2>How to get there</h2>
        <p class="muted" style="margin-top:6px">
          Add your exact address and your recommended route tips below.
        </p>

        <div class="grid" style="margin-top:14px">
          <div>
            <div class="kicker">Address</div>
            <p style="margin:10px 0 0">
              <strong id="venueName">Venue Name</strong><br />
              <span id="venueAddress">Street + Number, Postal Code City, Country</span>
            </p>

            <div style="margin-top:14px" class="richtext">
              <p><strong>By car:</strong> Add parking info, gate name, or ‚Äúavoid this road‚Äù tip.</p>
              <p><strong>By public transport:</strong> Closest stop + walking time.</p>
              <p><strong>On arrival:</strong> ‚ÄúFollow the lanterns / signs‚Äù (optional).</p>
            </div>

            <div class="actions" style="margin-top:14px">
              <a class="btn" id="gmapsBtn" target="_blank" rel="noopener"
                 href="https://www.google.com/maps/search/?api=1&query=Street%20Number%2C%20City">
                Open in Google Maps
              </a>
              <a class="btn ghost" id="appleMapsBtn" target="_blank" rel="noopener"
                 href="https://maps.apple.com/?q=Street%20Number%2C%20City">
                Open in Apple Maps
              </a>
            </div>
          </div>

          <div>
            <div class="kicker">Map (optional)</div>
            <div style="margin-top:10px;border-radius:14px;overflow:hidden;border:1px solid var(--line);background:rgba(0,0,0,.22)">
              <iframe
                title="Map"
                width="100%"
                height="320"
                loading="lazy"
                style="border:0;display:block"
                referrerpolicy="no-referrer-when-downgrade"
                src="about:blank">
              </iframe>
            </div>
            <p class="muted" style="font-size:12px;margin-top:10px">
              If you want an embedded map, paste your Google Maps ‚ÄúEmbed a map‚Äù URL into the iframe src.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="rsvp" class="reveal">
      <div class="card">
        <h2>RSVP</h2>
        <p class="muted">Let us know if you can make it.</p>

        <!-- ‚úÖ ONLY CHANGES HERE: Netlify form attributes + hidden form-name -->
        <form id="rsvpForm"
              name="rsvp"
              method="POST"
              data-netlify="true"
              data-netlify-honeypot="website"
              style="margin-top:16px">

          <input type="hidden" name="form-name" value="rsvp">

          <div class="grid">
            <label>
              <span>Name *</span>
              <input name="name" required type="text" autocomplete="name" />
            </label>

            <label>
              <span>Email (optional)</span>
              <input name="email" type="email" autocomplete="email" />
            </label>

            <label>
              <span>Attendance *</span>
              <select name="attending" required>
                <option value="" selected disabled>Select‚Ä¶</option>
                <option value="yes">Yes, I‚Äôm coming</option>
                <option value="no">No, I can‚Äôt make it</option>
                <option value="maybe">Maybe</option>
              </select>
            </label>

            <label>
              <span>Plus one?</span>
              <select name="plus_one">
                <option value="0" selected>No</option>
                <option value="1">Yes</option>
              </select>
            </label>
          </div>

          <label>
            <span>Dietary needs</span>
            <input name="dietary" type="text" placeholder="e.g., vegetarian, allergies‚Ä¶" />
          </label>

          <label>
            <span>Message</span>
            <textarea name="message" rows="4" placeholder="Anything you want us to know?"></textarea>
          </label>

          <!-- Honeypot (anti-spam) -->
          <input type="text" name="website" value="" autocomplete="off" tabindex="-1"
                 aria-hidden="true" style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;">

          <div class="row">
            <button class="btn" id="submitBtn" type="submit">
              <span>Send RSVP</span>
              <span class="spinner" aria-hidden="true"></span>
            </button>
            <div class="status" id="status" role="status" aria-live="polite"></div>
          </div>

          <p class="muted" style="font-size:12px;margin-top:14px">
            RSVPs are processed by Netlify Forms (no redirect).
          </p>
        </form>
      </div>
    </section>

    <footer class="reveal">
      <span class="muted">Made with ‚ù§Ô∏è</span>
    </footer>
  </div>

  <script>
    // ========= CONFIG =========
    // Prefer an ISO string with a timezone offset for accurate countdown:
    // Example Berlin summer time: +02:00 | winter: +01:00
    const EVENT_ISO_WITH_OFFSET = "2026-09-05T15:00:00+02:00"; // <-- change this
    const EVENT_LABEL = "2026-09-05 15:00";
    const TIMEZONE_LABEL = "Europe/Berlin";

    // ===== Intro envelope =====
    const intro = document.getElementById("intro");
    function finishIntro(){
      intro.classList.add("is-done");
      document.body.style.overflowY = "auto";
    }
    function playIntro(){
      document.body.style.overflowY = "hidden";
      intro.classList.add("play");
      setTimeout(finishIntro, 2800);
    }
    intro.addEventListener("click", finishIntro, { passive:true });
    window.addEventListener("keydown", finishIntro);
    window.addEventListener("load", playIntro);

    // ========= Labels =========
    document.getElementById("eventLabel").textContent = EVENT_LABEL;
    document.getElementById("tzLabel").textContent = TIMEZONE_LABEL;

    // ========= Scroll reveals =========
    const reveals = document.querySelectorAll(".reveal");
    const io = new IntersectionObserver((entries) => {
      for (const e of entries) {
        if (e.isIntersecting) {
          e.target.classList.add("visible");
          io.unobserve(e.target);
        }
      }
    }, { threshold: 0.14 });
    reveals.forEach(el => io.observe(el));

    // ========= Parallax floating elements =========
    const floats = document.querySelectorAll(".float");
    let raf = 0;
    function updateParallax(){
      raf = 0;
      const y = window.scrollY || 0;
      const delta = y * 0.08;
      floats.forEach((el, i) => {
        const factor = (i + 1) * 0.6;
        el.style.transform = `translate3d(0, ${delta * factor}px, 0)`;
      });
    }
    window.addEventListener("scroll", () => {
      if (!raf) raf = requestAnimationFrame(updateParallax);
    }, { passive:true });
    updateParallax();

    // ========= Countdown =========
    const targetMs = new Date(EVENT_ISO_WITH_OFFSET).getTime();
    const daysEl = document.querySelector("[data-days]");
    const hoursEl = document.querySelector("[data-hours]");
    const minsEl = document.querySelector("[data-mins]");
    const secsEl = document.querySelector("[data-secs]");
    const pad2 = (n) => String(n).padStart(2, "0");

    function tick(){
      const now = Date.now();
      const diffMs = Math.max(0, targetMs - now);
      const sec = Math.floor(diffMs / 1000);

      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const mins = Math.floor((sec % 3600) / 60);
      const secs = Math.floor(sec % 60);

      daysEl.textContent = String(days);
      hoursEl.textContent = pad2(hours);
      minsEl.textContent = pad2(mins);
      secsEl.textContent = pad2(secs);
    }
    tick();
    setInterval(tick, 1000);

    // ========= RSVP submission (Netlify Forms, stay on page) =========
    const form = document.getElementById("rsvpForm");
    const statusEl = document.getElementById("status");
    const btn = document.getElementById("submitBtn");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      statusEl.textContent = "";

      const fd = new FormData(form);

      // Honeypot anti-spam
      if (fd.get("website")) {
        statusEl.textContent = "Spam detected.";
        return;
      }

      // Basic validation (keep your original UX)
      const name = (fd.get("name") || "").toString().trim();
      const attending = (fd.get("attending") || "").toString().trim();
      if (!name || !attending) {
        statusEl.textContent = "Please fill in the required fields.";
        return;
      }

      btn.setAttribute("aria-busy", "true");

      try {
        // POST to Netlify Forms endpoint while staying on this page
        await fetch("/", { method: "POST", body: fd });

        statusEl.textContent = "Thanks! Your RSVP has been received.";
        form.reset();
      } catch (err) {
        statusEl.textContent = "Could not send RSVP. Please try again.";
      } finally {
        btn.removeAttribute("aria-busy");
      }
    });
  </script>
</body>
</html>





