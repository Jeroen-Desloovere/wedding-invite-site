<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>You’re Invited</title>

<style>
:root{
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.7);
  --line:rgba(255,255,255,.18);
  --radius:20px;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
}
body::before{
  content:"";
  position:fixed; inset:0;
  background:
    linear-gradient(rgba(0,0,0,.65),rgba(0,0,0,.6)),
    url("bg.png") center/cover no-repeat;
  z-index:-1;
}

.wrap{max-width:1000px;margin:auto;padding:24px}
.card{
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(8px);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:36px;
  margin-bottom:28px;
}

h1{font-size:48px;margin:0 0 10px}
h2{margin-top:0}
p{color:var(--muted)}

.countdown{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
  margin:30px 0;
}
.box{
  text-align:center;
  padding:16px;
  background:rgba(255,255,255,.08);
  border-radius:14px;
}
.box div{font-size:28px;font-weight:600}

.btn{
  padding:12px 18px;
  border-radius:999px;
  background:white;
  color:black;
  border:none;
  font-weight:600;
  cursor:pointer;
}
.btn:hover{opacity:.9}

input,select,textarea{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:rgba(0,0,0,.5);
  color:white;
  margin-bottom:14px;
}

.status{margin-top:10px;color:var(--muted)}

.section{opacity:0;transform:translateY(20px);transition:all .7s ease}
.section.visible{opacity:1;transform:none}

/* Envelope Intro */
#intro{
  position:fixed;
  inset:0;
  background:black;
  display:grid;
  place-items:center;
  z-index:9999;
  transition:opacity .6s ease;
}
.envelope{
  width:320px;
  height:200px;
  background:#eee;
  position:relative;
  transform-style:preserve-3d;
}
.flap{
  position:absolute;
  width:100%;
  height:100%;
  background:#ddd;
  clip-path:polygon(0 0,100% 0,50% 100%);
  transform-origin:top;
  transition:transform 1s ease;
}
#intro.open .flap{
  transform:rotateX(180deg);
}
</style>
</head>

<body>

<!-- Envelope Animation -->
<div id="intro">
  <div class="envelope">
    <div class="flap"></div>
  </div>
</div>

<div class="wrap">

  <!-- HERO -->
  <div class="card section">
    <h1>You’re Invited</h1>
    <p>Join us for a special celebration.</p>

    <div class="countdown">
      <div class="box"><div id="d">--</div><small>Days</small></div>
      <div class="box"><div id="h">--</div><small>Hours</small></div>
      <div class="box"><div id="m">--</div><small>Minutes</small></div>
      <div class="box"><div id="s">--</div><small>Seconds</small></div>
    </div>

    <a href="#rsvp" class="btn">RSVP</a>
  </div>

  <!-- DETAILS -->
  <div class="card section">
    <h2>Details</h2>
    <p><strong>Date:</strong> 5 September 2026</p>
    <p><strong>Time:</strong> 15:00</p>
    <p><strong>Dress Code:</strong> Elegant</p>
  </div>

  <!-- HOW TO GET THERE -->
  <div class="card section">
    <h2>How to Get There</h2>
    <p><strong>Venue Name</strong></p>
    <p>Street Name 123, City</p>

    <p><strong>By Car:</strong> Parking available onsite.</p>
    <p><strong>By Public Transport:</strong> 10 min walk from Central Station.</p>

    <a class="btn" target="_blank"
       href="https://www.google.com/maps/search/?api=1&query=Street+Name+123+City">
       Open in Google Maps
    </a>
  </div>

  <!-- RSVP -->
  <div class="card section" id="rsvp">
    <h2>RSVP</h2>

    <form name="rsvp"
          id="rsvpForm"
          method="POST"
          data-netlify="true"
          data-netlify-honeypot="website">

      <input type="hidden" name="form-name" value="rsvp">
      <input type="text" name="website" style="display:none">

      <input name="name" required placeholder="Your Name">
      <input name="email" type="email" placeholder="Email (optional)">

      <select name="attending" required>
        <option value="" disabled selected>Will you attend?</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="maybe">Maybe</option>
      </select>

      <textarea name="message" placeholder="Message"></textarea>

      <button class="btn" id="submitBtn">Send RSVP</button>
      <div class="status" id="status"></div>
    </form>
  </div>

</div>

<script>
// Envelope intro animation
window.addEventListener("load",()=>{
  setTimeout(()=>{
    document.getElementById("intro").classList.add("open");
  },400);

  setTimeout(()=>{
    document.getElementById("intro").style.opacity="0";
    setTimeout(()=>document.getElementById("intro").remove(),600);
  },1800);
});

// Scroll reveal
const sections=document.querySelectorAll(".section");
const io=new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting) e.target.classList.add("visible");
  });
});
sections.forEach(s=>io.observe(s));

// Countdown
const target=new Date("2026-09-05T15:00:00+02:00").getTime();
function tick(){
  const now=Date.now();
  const diff=Math.max(0,target-now)/1000;
  document.getElementById("d").textContent=Math.floor(diff/86400);
  document.getElementById("h").textContent=Math.floor(diff%86400/3600);
  document.getElementById("m").textContent=Math.floor(diff%3600/60);
  document.getElementById("s").textContent=Math.floor(diff%60);
}
setInterval(tick,1000); tick();

// Netlify AJAX Submit
const form=document.getElementById("rsvpForm");
const status=document.getElementById("status");
const btn=document.getElementById("submitBtn");

form.addEventListener("submit",async(e)=>{
  e.preventDefault();
  status.textContent="Sending...";
  btn.disabled=true;

  const data=new FormData(form);
  if(data.get("website")){
    status.textContent="Spam detected.";
    btn.disabled=false;
    return;
  }

  try{
    await fetch("/",{
      method:"POST",
      body:data
    });

    status.textContent="Thanks! Your RSVP has been received.";
    form.reset();
  }catch(err){
    status.textContent="Could not send RSVP. Please try again.";
  }

  btn.disabled=false;
});
</script>

</body>
</html>
